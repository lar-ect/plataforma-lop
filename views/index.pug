extends layout

include mixins/_listaCard
include mixins/_tabelaQuestoes
include mixins/_contadorProva

block content
	section.hero.is-primary.shadow-inside
		.hero-body
			.container.has-text-centered
				h1.title.title-with-shadow.is-size-2 Bem vindo!
				h2.subtitle.m-b-8 Pronto para come√ßar a praticar programa√ß√£o? üòÅ
				button.button.is-warning(name="btn-novidades" data-toggle="modal" data-target="#modal-novidades")
					span.icon
						i.fa.fa-rss
					span Novidades
				.modal(id="modal-novidades")
					.modal-background
					.modal-content
						.box
							h1.title.has-text-dark.is-size-5 Obrigado a todos pelas sugest√µes!
							p.has-text-justify Muitos usu√°rios enviaram sugest√µes para melhorar o sistema e gostar√≠amos de agradecer a todos! Estamos trabalhando para implementar todas as sugest√µes de voc√™s üòÅ. O design do sistema tamb√©m mudou! Adorariamos ouvir o que voc√™s acharam do novo layout. Continuem mandando feedback atrav√©s do menu superior, estamos lendo tudo! üëè
							br
							p.has-text-justify Estamos trabalhando para adicionar novas quest√µes, quest√µes de desafio e quest√µes de provas anteriores. Se voc√™ gosta de programa√ß√£o web e deseja ajudar de alguma forma, entre em contato com Gabriel pelo email: 
							b.has-text-center tibuurcio@gmail.com
							p.has-text-center Precisamos da sua ajuda! üëç
							br
							p(style="text-decoration: underline") Algumas das sugest√µes de voc√™s que j√° est√£o no sistema:
							ul
								li(style="font-weight: 600;") Navega√ß√£o nas listas (voltar, anterior, pr√≥xima quest√£o)
								li(style="font-weight: 600;") Progresso das listas de exerc√≠cios
								li(style="font-weight: 600;") Identifica quest√µes j√° realizadas
								li(style="font-weight: 600;") Melhorias nas submiss√µes
								li(style="font-weight: 600;") Abrir uma nova janela com as fun√ß√µes dispon√≠veis
							br
							p(style="text-decoration: underline") Sugest√µes e novas funcionalidades que est√£o sendo trabalhadas:
							ul
								li(style="font-weight: 600;") Permitir edi√ß√£o das informa√ß√µes do perfil
								li(style="font-weight: 600;") Agrupar submiss√µes de uma mesma quest√£o pelo melhor resultado
								li(style="font-weight: 600;") Adicionar conte√∫dos de programa√ß√£o em geral
								li(style="font-weight: 600;") Mais listas e quest√µes variadas
								li(style="font-weight: 600;") √Årea de d√∫vidas e discuss√µes com os monitores/professores
								li(style="font-weight: 600;") Integra√ß√£o com o processing (p5.js)
					button.modal-close.is-large(aria-label="close")

		.hero-foot
			.container
				nav.tabs.is-boxed.is-centered
					ul
						li.is-active(data-tab="listas_exercicio")
							a 
								span.icon.is-small
									i.fa.fa-file-text-o
								span Listas de Exerc√≠cio
						li(data-tab="listas_laboratorio")
							a 
								span.icon.is-small
									i.fa.fa-file-text-o
								span Listas de Laborat√≥rio
						li(data-tab="provas_anteriores")
							a 
								span.icon.is-small
									i.fa.fa-file-text-o
								span Provas anteriores
						li(data-tab="questoes")
							a 
								span.icon.is-small
									i.fa.fa-file-text-o
								span Quest√µes
						if questoesOcultas && permissoes.temPermissao(user, 'VER_QUESTOES_OCULTAS')
							li(data-tab="questoes_ocultas")
								a 
									span.icon.is-small
										i.fa.fa-file-text-o
									span Quest√µes ocultas
						if provasUsuario && provasUsuario.length > 0
							li(data-tab="provas")
								a 
									span.icon.is-small
										i.fa.fa-file-text-o
									span Provas
						
	section.m-t-16.m-b-16
		.container.is-fluid
			- const listasProvasAnteriores = _.remove(listasExercicio, l => l.titulo.includes('Prova'))
			- const listasExercicioLaboratorio = _.remove(listasExercicio, l => l.titulo.includes('Laborat√≥rio'))
			.tab-content.current-tab(id="listas_exercicio")
				.columns.is-multiline.is-tablet
					for lista in listasExercicio
						.column.is-half
							+listaCard(lista)
			.tab-content(id="listas_laboratorio")
				.columns.is-multiline.is-tablet
					for lista in listasExercicioLaboratorio
						.column.is-half
							+listaCard(lista)
			.tab-content(id="provas_anteriores")
				.columns.is-multiline.is-tablet
					for lista in listasProvasAnteriores
						.column.is-half
							+listaCard(lista)
			.tab-content(id="questoes")
				+tabelaQuestoes(questoes)
			if questoesOcultas && permissoes.temPermissao(user, 'VER_QUESTOES_OCULTAS')
				.tab-content(id="questoes_ocultas")
					+tabelaQuestoes(questoesOcultas)
			if provasUsuario && provasUsuario.length > 0
				.tab-content(id="provas")
					.container
						.columns.is-multiline.is-tabled
							for prova in provasUsuario
								.column.is-half
									.box
										h4.title.is-size-5 #{prova.titulo}
										h5.subtitle.is-size-6 Quantidade de quest√µes: #{prova.questoes.length}
										p
											+contadorProva(prova)
										.field.has-addons
											.control
												a.button.is-primary.m-t-16(href=`prova/${prova._id}`)
													span.icon.is-small
														i.fa.fa-floppy-o
													span Ver prova

block styles
	link(rel="stylesheet", href="/js/vendors/footable/css/footable.standalone.min.css", type="text/css")
	link(rel="stylesheet", href="/js/vendors/footable/css/footable.custom.css", type="text/css")

block scripts
	script(src="/js/vendors/footable/js/footable.min.js")
	script(src="/js/tabelas/ListaFilter.js")
	script(src="/dist/index.bundle.js")
	script(src="/js/tabelas/questoes.js")
	script(src="/js/vendors/jquery.countdown.min.js")
	script(src="/js/contagem-prova.js")